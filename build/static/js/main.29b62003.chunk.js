(this["webpackJsonpsimple-search"]=this["webpackJsonpsimple-search"]||[]).push([[0],{35:function(n,t,e){n.exports=e.p+"static/media/plain.0c089234.svg"},39:function(n,t,e){n.exports=e(53)},50:function(n,t,e){},53:function(n,t,e){"use strict";e.r(t);var r,a,c=e(0),i=e.n(c),o=e(18),u=e.n(o),l=e(9),s=e(10),f=e(37),p=e(28),d=e.n(p),b=e(7),x=e(6),h=function(n){var t={};return Object.keys(n).forEach((function(n){t[n]=!1})),t},v=function(n){var t=Object.keys(n).filter((function(n){return!n.includes("all")})).length,e=0;return Object.keys(n).forEach((function(t){!t.includes("all")&&n[t]&&(e+=1)})),e===t},m=(r={},Object(b.a)(r,"transfer-all","\u0412\u0441\u0435"),Object(b.a)(r,"transfer-none","\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),Object(b.a)(r,"transfer-one","1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"),Object(b.a)(r,"transfer-two","2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"),Object(b.a)(r,"transfer-three","3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"),r),g={changeFilter:function(n){return{type:"CHANGE_FILTER",payload:n}}},E=function(){var n={};return Object.keys(m).forEach((function(t){n[t]=!0})),n}(),O=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(e){case"CHANGE_FILTER":var a=Object(x.a)({},n,Object(b.a)({},r.name,r.value));return r.name.includes("all")?r.value?E:h(a):v(a)?E:Object(x.a)({},a,Object(b.a)({},"transfer-all",!1));default:return n}},j=(a={},Object(b.a)(a,"by-cheap","\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),Object(b.a)(a,"by-quick","\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"),a),y={changeSort:function(n){return{type:"CHANGE_SORT",payload:n}}},k=function(){return{key:"by-cheap"}}(),w=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(e){case"CHANGE_SORT":return Object(x.a)({},n,{key:r.name});default:return n}},T=e(11),F={getTickets:function(){return{type:"GET_TICKETS",payload:{error:null,isError:!1}}},getTicketsChain:function(n){return{type:"GET_TICKETS_CHAIN",payload:{tickets:n,error:null,isError:!1}}},getTicketsCompletely:function(n){return{type:"GET_TICKETS_COMPLETELY",payload:{tickets:n,isCompletely:!0,error:null,isError:!1}}},getTicketsError:function(n){return{type:"GET_TICKETS_ERROR",payload:{error:n,isError:!0}}}},C={tickets:[],error:null,isCompletely:!1,isError:!1},_=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(e){case"GET_TICKETS":return Object(x.a)({},n,{},r);case"GET_TICKETS_CHAIN":return Object(x.a)({},n,{tickets:[].concat(Object(T.a)(n.tickets),Object(T.a)(r.tickets)),error:r.error,isError:r.isError});case"GET_TICKETS_COMPLETELY":return Object(x.a)({},n,{tickets:[].concat(Object(T.a)(n.tickets),Object(T.a)(r.tickets)),isCompletely:r.isCompletely,error:r.error,isError:r.isError});case"GET_TICKETS_ERROR":return Object(x.a)({},n,{},r);default:return n}},S=e(8),I=e.n(S),A=e(12),R=e(23),G=function(){var n=Object(R.a)(I.a.mark((function n(t){var e,r;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("https://front-test.beta.aviasales.ru/tickets","?searchId=").concat(t));case 2:return e=n.sent,n.next=5,e.json();case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),L=function(){var n=Object(R.a)(I.a.mark((function n(){var t,e;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://front-test.beta.aviasales.ru/search");case 2:return t=n.sent,n.next=5,t.json();case 5:return e=n.sent,n.abrupt("return",e);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),N=I.a.mark(M),z=I.a.mark(Y),D=I.a.mark(X),K=F.getTicketsChain,H=F.getTicketsCompletely,B=F.getTicketsError;function M(n){var t,e,r;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(A.a)(G,n);case 3:return t=a.sent,e=t.tickets,r=t.stop,a.next=7,Object(A.b)(K(e));case 7:if(r){a.next=14;break}return a.t0=setTimeout,a.delegateYield(M(n),"t1",10);case 10:a.t2=a.t1,(0,a.t0)(a.t2,1e3),a.next=16;break;case 14:return a.next=16,Object(A.b)(H(e));case 16:a.next=26;break;case 18:return a.prev=18,a.t3=a.catch(0),a.next=22,Object(A.b)(B(a.t3));case 22:return a.t4=setTimeout,a.delegateYield(M(n),"t5",24);case 24:a.t6=a.t5,(0,a.t4)(a.t6,1e3);case 26:case"end":return a.stop()}}),N,null,[[0,18]])}function Y(){var n,t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(A.a)(L);case 3:return n=e.sent,t=n.searchId,e.delegateYield(M(t),"t0",6);case 6:e.next=12;break;case 8:return e.prev=8,e.t1=e.catch(0),e.next=12,Object(A.b)(B(e.t1));case 12:case"end":return e.stop()}}),z,null,[[0,8]])}function X(){return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(A.c)("GET_TICKETS",Y);case 2:case"end":return n.stop()}}),D)}var P=X,U=Object(s.c)({filters:O,sorts:w,ticketsData:_}),q=Object(f.a)(),J=Object(s.d)(Object(s.a)(q,d.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():s.d),V=Object(s.e)(U,{},J);q.run(P);var Q=V,W=(e(50),e(29)),Z=e(30),$=e(36),nn=e(38),tn=e(21),en=e(3),rn=e(4);function an(){var n=Object(en.a)(["\n  display: flex;\n  padding: 10px 20px;\n\n  &:hover {\n    background-color: #F1FCFF;\n  }\n\n  &:last-child {\n    padding: 10px 20px 20px;\n  }\n"]);return an=function(){return n},n}function cn(){var n=Object(en.a)(["\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return cn=function(){return n},n}function on(){var n=Object(en.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 20px;\n  color: #4A4A4A;\n"]);return on=function(){return n},n}function un(){var n=Object(en.a)(["\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  transition: all 150ms;\n  border: 1px solid #9ABBCE;\n  box-sizing: border-box;\n  border-radius: 2px;\n  position: relative;\n  margin-right: 10px;\n\n  ","\n"]);return un=function(){return n},n}function ln(){var n=Object(en.a)(["\n  &::after {\n    position: absolute;\n    content: '';\n    height: 5px;\n    width: 9px;\n    border-left: 2px solid;\n    border-bottom: 2px solid;\n    border-color: #2196F3;\n    transform: rotate(-45deg);\n\n    left: 4px;\n    top: 4px;\n  }\n"]);return ln=function(){return n},n}var sn=Object(rn.a)(ln()),fn=rn.b.div(un(),(function(n){return n.checked&&sn})),pn=rn.b.label(on()),dn=rn.b.input.attrs({type:"checkbox"})(cn()),bn=rn.b.div(an()),xn=function(n){var t=n.name,e=n.value,r=n.title,a=n.onChangeFilter;return i.a.createElement(bn,null,i.a.createElement(pn,{htmlFor:t,checked:e},i.a.createElement(fn,{checked:e},i.a.createElement(dn,{id:t,onChange:function(n){return function(n,t,e){e(t,n.target.checked)}(n,t,a)},checked:e})),r))},hn=e(34),vn=function(n,t){if(!n.length||!t)return[];var e=Object(T.a)(n);switch(!0){case"by-cheap"===t:return e.sort((function(n,t){return n.price-t.price}));case"by-quick"===t:return e.sort((function(n,t){return n.segments.reduce((function(n,t){return n+t.duration}),0)-t.segments.reduce((function(n,t){return n+t.duration}),0)}));default:return e}},mn=function(n,t){var e=Object.keys(t).filter((function(n){return"transfer-all"!==n&&t[n]}));return n.length&&e.length?t["transfer-all"]?n:Object(T.a)(n).filter((function(n){return function(n,t){var e=n.segments.reduce((function(n,t){return t.stops.length}),0);return t.some((function(n){var t;switch(!0){case"transfer-none"===n:t=0===e;break;case"transfer-one"===n:t=1===e;break;case"transfer-two"===n:t=2===e;break;case"transfer-three"===n:t=3===e;break;default:t=!1}return t}))}(n,e)})):[]},gn=function(n){return n.ticketsData},En=function(n){return gn(n).isLoading},On=function(n){return gn(n).isCompletely},jn=function(n){return gn(n).isError},yn=function(n){return n.filters},kn=function(n){return n.sorts},wn=Object(hn.a)(yn,kn,(function(n){return gn(n).tickets}),On,(function(n,t,e,r){if(!e.length||!r)return[];var a=t.key,c=mn(e,n);return vn(c,a)}));function Tn(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Tn=function(){return n},n}function Fn(){var n=Object(en.a)(["\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  text-transform: uppercase;\n  margin-bottom: 10px;\n  padding: 20px 20px 0;\n"]);return Fn=function(){return n},n}function Cn(){var n=Object(en.a)(["\n  background-color: #FFFFFF;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  width: 232px;\n  margin-right: 20px;\n"]);return Cn=function(){return n},n}var _n=rn.b.div(Cn()),Sn=rn.b.div(Fn()),In=rn.b.div(Tn()),An=Object(x.a)({},g),Rn=Object(l.b)((function(n){return{filters:yn(n)}}),An)((function(n){var t=n.filters,e=n.changeFilter;return i.a.createElement(_n,null,i.a.createElement(Sn,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),i.a.createElement(In,null,Object.entries(t).map((function(n){var t=Object(tn.a)(n,2),r=t[0],a=t[1];return i.a.createElement(xn,{key:r,name:r,value:a,title:m[r],onChangeFilter:function(n,t){return e({name:n,value:t})}})}))))}));function Gn(){var n=Object(en.a)(["\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 20px;\n  text-transform: uppercase;\n  padding: 15px 57px;\n  border: ",";\n  color: ",";\n  background-color: ",";\n\n  &:first-child {\n    border-radius: 6px 0 0 6px;\n  }\n\n  &:last-child {\n    border-radius: 0 6px 6px 0;\n  }\n\n  cursor: pointer;\n  width: 50%;\n"]);return Gn=function(){return n},n}var Ln=rn.b.div(Gn(),(function(n){return n.isSelected?"none":"1px solid #DFE5EC"}),(function(n){return n.isSelected?"#FFFFFF":"#4A4A4A"}),(function(n){return n.isSelected?"#2196F3":"#FFFFFF"})),Nn=function(n){var t=n.name,e=n.value,r=n.title,a=n.onChangeSort;return i.a.createElement(Ln,{isSelected:e,onClick:function(){return function(n,t){return t(n)}(t,a)}},r)};function zn(){var n=Object(en.a)(["\n  display: flex;\n  width: 100%;\n  margin-bottom: 20px;\n"]);return zn=function(){return n},n}var Dn=rn.b.div(zn()),Kn=Object(x.a)({},y),Hn=Object(l.b)((function(n){return{sorts:kn(n)}}),Kn)((function(n){var t=n.sorts,e=n.changeSort;return i.a.createElement(Dn,null,Object.entries(j).map((function(n){var r=Object(tn.a)(n,2),a=r[0],c=r[1];return i.a.createElement(Nn,{key:a,name:a,value:t.key===a,title:c,onChangeSort:function(n){return e({name:n})}})})))})),Bn=function(n){var t=n.iataCode,e=n.isRetina;return void 0!==e&&e?"".concat("https://pics.avs.io/99/36/").concat(t,"@2x.png"):"".concat("https://pics.avs.io/99/36/").concat(t,".png")},Mn=function(n){var t=n.toLocaleString("ru-RU");return"".concat(t," \u0420")};function Yn(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 141px;\n"]);return Yn=function(){return n},n}function Xn(){var n=Object(en.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0 20px;\n\n  & + & {\n    padding: 10px 20px 20px;\n  }\n"]);return Xn=function(){return n},n}function Pn(){var n=Object(en.a)(["\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px;\n  color: #4A4A4A\n"]);return Pn=function(){return n},n}function Un(){var n=Object(en.a)(["\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 18px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #A0B0B9;\n"]);return Un=function(){return n},n}var qn=rn.b.div(Un()),Jn=rn.b.div(Pn()),Vn=rn.b.div(Xn()),Qn=rn.b.div(Yn()),Wn=e(17),Zn=e.n(Wn),$n=function(n){var t=String(Zn()(n).minutes());return t.length<2?t.padStart(2,"0"):t},nt=function(n){var t=String(Zn()(n).hours());return t.length<2?t.padStart(2,"0"):t},tt=function(n,t){var e=Zn()(n),r=function(n,t){return Zn()(n).add(t,"minutes")}(e,t),a=$n(e),c=nt(e),i="".concat(c,":").concat(a),o=$n(r),u=nt(r),l="".concat(u,":").concat(o);return"".concat(i," - ").concat(l)},et=function(n,t){return n?"".concat(n).concat(t):null},rt=function(n){var t=Math.floor(n/60),e=n%60;return[et(t,"\u0447"),et(e,"\u043c")].filter((function(n){return n})).join(" ")},at=function(n,t){return"".concat(n," ").concat("\u043f\u0435\u0440\u0435\u0441\u0430\u0434").concat(t)},ct=function(n){switch(!0){case 1===n:return at(n,"\u043a\u0430");case n<5&&n>1:return at(n,"\u043a\u0438");case n<20&&n>1:return at(n,"\u043e\u043a");default:return"\u041d\u0435\u0442 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}},it=function(n,t){return"".concat(n," - ").concat(t)},ot=function(n){var t=n.title,e=n.children;return i.a.createElement(Qn,null,i.a.createElement(qn,null,t),i.a.createElement(Jn,null,e))},ut=function(n){var t=n.segment,e=t.origin,r=t.destination,a=t.date,o=t.duration,u=t.stops,l=u.length;return i.a.createElement(Vn,null,i.a.createElement(ot,{title:it(e,r)},tt(a,o)),i.a.createElement(ot,{title:"\u0412 \u043f\u0443\u0442\u0438"},rt(o)),i.a.createElement(ot,{title:ct(l)},u.map((function(n,t){return i.a.createElement(c.Fragment,{key:n},n,t!==l-1&&", ")}))))};function lt(){var n=Object(en.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px 30px 20px 20px;\n"]);return lt=function(){return n},n}function st(){var n=Object(en.a)(["\n  height: 36px;\n  width: auto;\n"]);return st=function(){return n},n}function ft(){var n=Object(en.a)(["\n  font-style: normal;\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 24px;\n  color: #2196F3;\n"]);return ft=function(){return n},n}function pt(){var n=Object(en.a)(["\n  background: #FFFFFF;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n\n  & + & {\n    margin-top: 10px;\n  }\n"]);return pt=function(){return n},n}var dt=rn.b.div(pt()),bt=rn.b.div(ft()),xt=rn.b.img.attrs((function(n){var t=n.iata,e=n.src,r=n.srcRetina;return{srcSet:"".concat(e," 1x, ").concat(r," 2x"),alt:t}}))(st()),ht=rn.b.div(lt()),vt=function(n){var t=n.ticket,e=t.price,r=t.carrier,a=t.segments;return i.a.createElement(dt,null,i.a.createElement(ht,null,i.a.createElement(bt,null,Mn(e)),i.a.createElement(xt,{src:Bn({iataCode:r}),srcRetina:Bn({iataCode:r,isRetina:!0}),iata:r})),a.map((function(n){var t=n.date,e=new Date(t).getTime();return i.a.createElement(ut,{key:e,segment:n})})))};function mt(){var n=Object(en.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  width: 100%;\n"]);return mt=function(){return n},n}var gt=rn.b.div(mt());function Et(){var n=Object(en.a)(["\n  background-color: #FFFFFF;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  width: 232px;\n\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  text-transform: uppercase;\n  padding: 40px;\n"]);return Et=function(){return n},n}var Ot=rn.b.div(Et()),jt=function(n){var t=n.text;return i.a.createElement(Ot,null,t)},yt=Object(l.b)((function(n){return{tickets:wn(n),isLoading:En(n),isCompletely:On(n),isError:jn(n)}}),null)((function(n){var t=n.tickets,e=n.isCompletely,r=n.isError;return!e||r?i.a.createElement(jt,{text:"\u0411\u0438\u043b\u0435\u0442\u044b \u0433\u0440\u0443\u0437\u044f\u0442\u0441\u044f, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435....."}):e&&r?i.a.createElement(jt,{text:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0431\u0438\u043b\u0435\u0442\u043e\u0432, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"}):i.a.createElement(gt,null,t.slice(0,20).map((function(n,t){var e=n.carrier+n.price+t;return i.a.createElement(vt,{key:e,ticket:n})})))})),kt=e(35),wt=e.n(kt);function Tt(){var n=Object(en.a)(["\n  width: 60px;\n  height: 60px;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: contain;\n"]);return Tt=function(){return n},n}var Ft=rn.b.div(Tt(),wt.a),Ct=function(){return i.a.createElement(Ft,null)};function _t(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  flex-wrap: wrap;\n"]);return _t=function(){return n},n}function St(){var n=Object(en.a)(["\n   flex: 0;\n   position: sticky;\n   top: 10px;\n"]);return St=function(){return n},n}function It(){var n=Object(en.a)(["\n  flex: 0 0 auto;\n  display: flex;\n  justify-content: center;\n  padding: 50px 0;\n  width: 100%;\n"]);return It=function(){return n},n}function At(){var n=Object(en.a)(["\n  display: flex;\n  width: 100%;\n  max-width: 754px;\n  justify-content: center;\n  align-items: flex-start;\n  margin: 0 103px;\n"]);return At=function(){return n},n}function Rt(){var n=Object(en.a)(["\n  flex: 1 1 auto;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n"]);return Rt=function(){return n},n}function Gt(){var n=Object(en.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n"]);return Gt=function(){return n},n}var Lt=rn.b.div(Gt()),Nt=rn.b.div(Rt()),zt=rn.b.div(At()),Dt=rn.b.div(It()),Kt=rn.b.div(St()),Ht=rn.b.div(_t()),Bt=function(n){Object(nn.a)(e,n);var t=Object($.a)(e);function e(){return Object(W.a)(this,e),t.apply(this,arguments)}return Object(Z.a)(e,[{key:"componentDidMount",value:function(){(0,this.props.getTickets)()}},{key:"render",value:function(){return i.a.createElement(Lt,null,i.a.createElement(Dt,null,i.a.createElement(zt,null,i.a.createElement(Ct,null))),i.a.createElement(Nt,null,i.a.createElement(zt,null,i.a.createElement(Kt,null,i.a.createElement(Rn,null)),i.a.createElement(Ht,null,i.a.createElement(Hn,null),i.a.createElement(yt,null)))))}}]),e}(c.PureComponent),Mt=Object(x.a)({},F),Yt=Object(l.b)(null,Mt)(Bt);u.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(l.a,{store:Q},i.a.createElement(Yt,null))),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.29b62003.chunk.js.map