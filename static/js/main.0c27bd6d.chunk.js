(this["webpackJsonpsimple-search"]=this["webpackJsonpsimple-search"]||[]).push([[0],{35:function(n,e,t){n.exports=t.p+"static/media/plain.0c089234.svg"},39:function(n,e,t){n.exports=t(53)},50:function(n,e,t){},53:function(n,e,t){"use strict";t.r(e);var r,a,c=t(0),i=t.n(c),o=t(18),u=t.n(o),l=t(9),s=t(10),f=t(37),p=t(28),d=t.n(p),b=t(7),x=t(6),h=function(n){var e={};return Object.keys(n).forEach((function(n){e[n]=!1})),e},v=function(n){var e=Object.keys(n).filter((function(n){return!n.includes("all")})).length,t=0;return Object.keys(n).forEach((function(e){!e.includes("all")&&n[e]&&(t+=1)})),t===e},m=(r={},Object(b.a)(r,"transfer-all","\u0412\u0441\u0435"),Object(b.a)(r,"transfer-none","\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),Object(b.a)(r,"transfer-one","1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"),Object(b.a)(r,"transfer-two","2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"),Object(b.a)(r,"transfer-three","3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"),r),g={changeFilter:function(n){return{type:"CHANGE_FILTER",payload:n}}},E=function(){var n={};return Object.keys(m).forEach((function(e){n[e]=!0})),n}(),O=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case"CHANGE_FILTER":var a=Object(x.a)({},n,Object(b.a)({},r.name,r.value));return r.name.includes("all")?r.value?E:h(a):v(a)?E:Object(x.a)({},a,Object(b.a)({},"transfer-all",!1));default:return n}},j=(a={},Object(b.a)(a,"by-cheap","\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),Object(b.a)(a,"by-quick","\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"),a),y={changeSort:function(n){return{type:"CHANGE_SORT",payload:n}}},k=function(){return{key:"by-cheap"}}(),w=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case"CHANGE_SORT":return Object(x.a)({},n,{key:r.name});default:return n}},T=t(11),F={getTickets:function(){return{type:"GET_TICKETS",payload:{error:null,isError:!1}}},getTicketsChain:function(n){return{type:"GET_TICKETS_CHAIN",payload:{tickets:n,error:null,isError:!1}}},getTicketsCompletely:function(n){return{type:"GET_TICKETS_COMPLETELY",payload:{tickets:n,isCompletely:!0,error:null,isError:!1}}},getTicketsError:function(n){return{type:"GET_TICKETS_ERROR",payload:{error:n,isError:!0}}}},C={tickets:[],error:null,isCompletely:!1,isError:!1},_=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case"GET_TICKETS":return Object(x.a)({},n,{},r);case"GET_TICKETS_CHAIN":return Object(x.a)({},n,{tickets:[].concat(Object(T.a)(n.tickets),Object(T.a)(r.tickets)),error:r.error,isError:r.isError});case"GET_TICKETS_COMPLETELY":return Object(x.a)({},n,{tickets:[].concat(Object(T.a)(n.tickets),Object(T.a)(r.tickets)),isCompletely:r.isCompletely,error:r.error,isError:r.isError});case"GET_TICKETS_ERROR":return Object(x.a)({},n,{},r);default:return n}},S=t(8),I=t.n(S),A=t(12),R=t(23),G=function(){var n=Object(R.a)(I.a.mark((function n(e){var t,r;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("https://front-test.beta.aviasales.ru/tickets","?searchId=").concat(e));case 2:return t=n.sent,n.next=5,t.json();case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),N=function(){var n=Object(R.a)(I.a.mark((function n(){var e,t;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://front-test.beta.aviasales.ru/search");case 2:return e=n.sent,n.next=5,e.json();case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),z=I.a.mark(M),D=I.a.mark(Y),K=I.a.mark(X),L=F.getTicketsChain,H=F.getTicketsCompletely,B=F.getTicketsError;function M(n){var e,t,r;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(A.a)(G,n);case 3:return e=a.sent,t=e.tickets,r=e.stop,a.next=7,Object(A.b)(L(t));case 7:if(r){a.next=14;break}return a.t0=setTimeout,a.delegateYield(M(n),"t1",10);case 10:a.t2=a.t1,(0,a.t0)(a.t2,1e3),a.next=16;break;case 14:return a.next=16,Object(A.b)(H(t));case 16:a.next=26;break;case 18:return a.prev=18,a.t3=a.catch(0),a.next=22,Object(A.b)(B(a.t3));case 22:return a.t4=setTimeout,a.delegateYield(M(n),"t5",24);case 24:a.t6=a.t5,(0,a.t4)(a.t6,1e3);case 26:case"end":return a.stop()}}),z,null,[[0,18]])}function Y(){var n,e;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(A.a)(N);case 3:return n=t.sent,e=n.searchId,t.delegateYield(M(e),"t0",6);case 6:t.next=12;break;case 8:return t.prev=8,t.t1=t.catch(0),t.next=12,Object(A.b)(B(t.t1));case 12:case"end":return t.stop()}}),D,null,[[0,8]])}function X(){return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(A.c)("GET_TICKETS",Y);case 2:case"end":return n.stop()}}),K)}var P=X,U=Object(s.c)({filters:O,sorts:w,ticketsData:_}),q=Object(f.a)(),J=Object(s.d)(Object(s.a)(q,d.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():s.d),V=Object(s.e)(U,{},J);q.run(P);var Q=V,W=(t(50),t(29)),Z=t(30),$=t(36),nn=t(38),en=t(21),tn=t(3),rn=t(4);function an(){var n=Object(tn.a)(["\n  display: flex;\n  padding: 10px 20px;\n\n  &:hover {\n    background-color: #F1FCFF;\n  }\n\n  &:last-child {\n    padding: 10px 20px 20px;\n  }\n"]);return an=function(){return n},n}function cn(){var n=Object(tn.a)(["\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return cn=function(){return n},n}function on(){var n=Object(tn.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 20px;\n  color: #4A4A4A;\n"]);return on=function(){return n},n}function un(){var n=Object(tn.a)(["\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  transition: all 150ms;\n  border: 1px solid #9ABBCE;\n  box-sizing: border-box;\n  border-radius: 2px;\n  position: relative;\n  margin-right: 10px;\n\n  ","\n"]);return un=function(){return n},n}function ln(){var n=Object(tn.a)(["\n  &::after {\n    position: absolute;\n    content: '';\n    height: 5px;\n    width: 9px;\n    border-left: 2px solid;\n    border-bottom: 2px solid;\n    border-color: #2196F3;\n    transform: rotate(-45deg);\n\n    left: 4px;\n    top: 4px;\n  }\n"]);return ln=function(){return n},n}var sn=Object(rn.a)(ln()),fn=rn.b.div(un(),(function(n){return n.checked&&sn})),pn=rn.b.label(on()),dn=rn.b.input.attrs({type:"checkbox"})(cn()),bn=rn.b.div(an()),xn=function(n){var e=n.name,t=n.value,r=n.title,a=n.onChangeFilter;return i.a.createElement(bn,null,i.a.createElement(pn,{htmlFor:e,checked:t},i.a.createElement(fn,{checked:t},i.a.createElement(dn,{id:e,onChange:function(n){return function(n,e,t){t(e,n.target.checked)}(n,e,a)},checked:t})),r))},hn=t(34),vn=function(n,e){if(!n.length||!e)return[];var t=Object(T.a)(n);switch(!0){case"by-cheap"===e:return t.sort((function(n,e){return n.price-e.price}));case"by-quick"===e:return t.sort((function(n,e){return n.segments.reduce((function(n,e){return n+e.duration}),0)-e.segments.reduce((function(n,e){return n+e.duration}),0)}));default:return t}},mn=function(n,e){var t=Object.keys(e).filter((function(n){return"transfer-all"!==n&&e[n]}));return n.length&&t.length?e["transfer-all"]?n:Object(T.a)(n).filter((function(n){return function(n,e){var t=n.segments.reduce((function(n,e){return n+e.stops.length}),0);return e.some((function(n){var e;switch(!0){case"transfer-none"===n:e=0===t;break;case"transfer-one"===n:e=1===t;break;case"transfer-two"===n:e=2===t;break;case"transfer-three"===n:e=3===t;break;default:e=!1}return e}))}(n,t)})):[]},gn=function(n){return n.ticketsData},En=function(n){return gn(n).isCompletely},On=function(n){return gn(n).isError},jn=function(n){return n.filters},yn=function(n){return n.sorts},kn=Object(hn.a)(jn,yn,(function(n){return gn(n).tickets}),En,(function(n,e,t,r){if(!t.length||!r)return[];var a=e.key,c=mn(t,n);return vn(c,a)}));function wn(){var n=Object(tn.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return wn=function(){return n},n}function Tn(){var n=Object(tn.a)(["\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  text-transform: uppercase;\n  margin-bottom: 10px;\n  padding: 20px 20px 0;\n"]);return Tn=function(){return n},n}function Fn(){var n=Object(tn.a)(["\n  background-color: #FFFFFF;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  width: 232px;\n  margin-right: 20px;\n"]);return Fn=function(){return n},n}var Cn=rn.b.div(Fn()),_n=rn.b.div(Tn()),Sn=rn.b.div(wn()),In=Object(x.a)({},g),An=Object(l.b)((function(n){return{filters:jn(n)}}),In)((function(n){var e=n.filters,t=n.changeFilter;return i.a.createElement(Cn,null,i.a.createElement(_n,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),i.a.createElement(Sn,null,Object.entries(e).map((function(n){var e=Object(en.a)(n,2),r=e[0],a=e[1];return i.a.createElement(xn,{key:r,name:r,value:a,title:m[r],onChangeFilter:function(n,e){return t({name:n,value:e})}})}))))}));function Rn(){var n=Object(tn.a)(["\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 20px;\n  text-transform: uppercase;\n  padding: 15px 57px;\n  border: ",";\n  color: ",";\n  background-color: ",";\n\n  &:first-child {\n    border-radius: 6px 0 0 6px;\n  }\n\n  &:last-child {\n    border-radius: 0 6px 6px 0;\n  }\n\n  cursor: pointer;\n  width: 50%;\n"]);return Rn=function(){return n},n}var Gn=rn.b.div(Rn(),(function(n){return n.isSelected?"none":"1px solid #DFE5EC"}),(function(n){return n.isSelected?"#FFFFFF":"#4A4A4A"}),(function(n){return n.isSelected?"#2196F3":"#FFFFFF"})),Nn=function(n){var e=n.name,t=n.value,r=n.title,a=n.onChangeSort;return i.a.createElement(Gn,{isSelected:t,onClick:function(){return function(n,e){return e(n)}(e,a)}},r)};function zn(){var n=Object(tn.a)(["\n  display: flex;\n  width: 100%;\n  margin-bottom: 20px;\n"]);return zn=function(){return n},n}var Dn=rn.b.div(zn()),Kn=Object(x.a)({},y),Ln=Object(l.b)((function(n){return{sorts:yn(n)}}),Kn)((function(n){var e=n.sorts,t=n.changeSort;return i.a.createElement(Dn,null,Object.entries(j).map((function(n){var r=Object(en.a)(n,2),a=r[0],c=r[1];return i.a.createElement(Nn,{key:a,name:a,value:e.key===a,title:c,onChangeSort:function(n){return t({name:n})}})})))})),Hn=function(n){var e=n.iataCode,t=n.isRetina;return void 0!==t&&t?"".concat("https://pics.avs.io/99/36/").concat(e,"@2x.png"):"".concat("https://pics.avs.io/99/36/").concat(e,".png")},Bn=function(n){var e=n.toLocaleString("ru-RU");return"".concat(e," \u0420")};function Mn(){var n=Object(tn.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 141px;\n"]);return Mn=function(){return n},n}function Yn(){var n=Object(tn.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0 20px;\n\n  & + & {\n    padding: 10px 20px 20px;\n  }\n"]);return Yn=function(){return n},n}function Xn(){var n=Object(tn.a)(["\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px;\n  color: #4A4A4A\n"]);return Xn=function(){return n},n}function Pn(){var n=Object(tn.a)(["\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 18px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #A0B0B9;\n"]);return Pn=function(){return n},n}var Un=rn.b.div(Pn()),qn=rn.b.div(Xn()),Jn=rn.b.div(Yn()),Vn=rn.b.div(Mn()),Qn=t(17),Wn=t.n(Qn),Zn=function(n){var e=String(Wn()(n).minutes());return e.length<2?e.padStart(2,"0"):e},$n=function(n){var e=String(Wn()(n).hours());return e.length<2?e.padStart(2,"0"):e},ne=function(n,e){var t=Wn()(n),r=function(n,e){return Wn()(n).add(e,"minutes")}(t,e),a=Zn(t),c=$n(t),i="".concat(c,":").concat(a),o=Zn(r),u=$n(r),l="".concat(u,":").concat(o);return"".concat(i," - ").concat(l)},ee=function(n,e){return n?"".concat(n).concat(e):null},te=function(n){var e=Math.floor(n/60),t=n%60;return[ee(e,"\u0447"),ee(t,"\u043c")].filter((function(n){return n})).join(" ")},re=function(n,e){return"".concat(n," ").concat("\u043f\u0435\u0440\u0435\u0441\u0430\u0434").concat(e)},ae=function(n){switch(!0){case 1===n:return re(n,"\u043a\u0430");case n<5&&n>1:return re(n,"\u043a\u0438");case n<20&&n>1:return re(n,"\u043e\u043a");default:return"\u041d\u0435\u0442 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}},ce=function(n,e){return"".concat(n," - ").concat(e)},ie=function(n){var e=n.title,t=n.children;return i.a.createElement(Vn,null,i.a.createElement(Un,null,e),i.a.createElement(qn,null,t))},oe=function(n){var e=n.segment,t=e.origin,r=e.destination,a=e.date,o=e.duration,u=e.stops,l=u.length;return i.a.createElement(Jn,null,i.a.createElement(ie,{title:ce(t,r)},ne(a,o)),i.a.createElement(ie,{title:"\u0412 \u043f\u0443\u0442\u0438"},te(o)),i.a.createElement(ie,{title:ae(l)},u.map((function(n,e){return i.a.createElement(c.Fragment,{key:n},n,e!==l-1&&", ")}))))};function ue(){var n=Object(tn.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px 30px 20px 20px;\n"]);return ue=function(){return n},n}function le(){var n=Object(tn.a)(["\n  height: 36px;\n  width: auto;\n"]);return le=function(){return n},n}function se(){var n=Object(tn.a)(["\n  font-style: normal;\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 24px;\n  color: #2196F3;\n"]);return se=function(){return n},n}function fe(){var n=Object(tn.a)(["\n  background: #FFFFFF;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n\n  & + & {\n    margin-top: 20px;\n  }\n"]);return fe=function(){return n},n}var pe=rn.b.div(fe()),de=rn.b.div(se()),be=rn.b.img.attrs((function(n){var e=n.iata,t=n.src,r=n.srcRetina;return{srcSet:"".concat(t," 1x, ").concat(r," 2x"),alt:e}}))(le()),xe=rn.b.div(ue()),he=function(n){var e=n.ticket,t=e.price,r=e.carrier,a=e.segments;return i.a.createElement(pe,null,i.a.createElement(xe,null,i.a.createElement(de,null,Bn(t)),i.a.createElement(be,{src:Hn({iataCode:r}),srcRetina:Hn({iataCode:r,isRetina:!0}),iata:r})),a.map((function(n){var e=n.date,t=new Date(e).getTime();return i.a.createElement(oe,{key:t,segment:n})})))};function ve(){var n=Object(tn.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  width: 100%;\n"]);return ve=function(){return n},n}var me=rn.b.div(ve());function ge(){var n=Object(tn.a)(["\n  background-color: #FFFFFF;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  width: 232px;\n\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  text-transform: uppercase;\n  padding: 40px;\n"]);return ge=function(){return n},n}var Ee=rn.b.div(ge()),Oe=function(n){var e=n.text;return i.a.createElement(Ee,null,e)},je=Object(l.b)((function(n){return{tickets:kn(n),isCompletely:En(n),isError:On(n)}}),null)((function(n){var e=n.tickets,t=n.isCompletely,r=n.isError;return!t||r?i.a.createElement(Oe,{text:"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0431\u0438\u043b\u0435\u0442\u043e\u0432, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435....."}):t&&r?i.a.createElement(Oe,{text:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0431\u0438\u043b\u0435\u0442\u043e\u0432, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"}):e.length?i.a.createElement(me,null,e.slice(0,20).map((function(n,e){var t=n.carrier+n.price+e;return i.a.createElement(he,{key:t,ticket:n})}))):i.a.createElement(Oe,{text:"\u0420\u0430\u0441\u0441\u043b\u0430\u0431\u044c\u0442\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})})),ye=t(35),ke=t.n(ye);function we(){var n=Object(tn.a)(["\n  width: 60px;\n  height: 60px;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: contain;\n"]);return we=function(){return n},n}var Te=rn.b.div(we(),ke.a),Fe=function(){return i.a.createElement(Te,null)};function Ce(){var n=Object(tn.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  flex-wrap: wrap;\n"]);return Ce=function(){return n},n}function _e(){var n=Object(tn.a)(["\n   flex: 0;\n   position: sticky;\n   top: 10px;\n"]);return _e=function(){return n},n}function Se(){var n=Object(tn.a)(["\n  flex: 0 0 auto;\n  display: flex;\n  justify-content: center;\n  padding: 50px 0;\n  width: 100%;\n"]);return Se=function(){return n},n}function Ie(){var n=Object(tn.a)(["\n  display: flex;\n  width: 100%;\n  max-width: 754px;\n  justify-content: center;\n  align-items: flex-start;\n  margin: 0 103px;\n"]);return Ie=function(){return n},n}function Ae(){var n=Object(tn.a)(["\n  flex: 1 1 auto;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n"]);return Ae=function(){return n},n}function Re(){var n=Object(tn.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n"]);return Re=function(){return n},n}var Ge=rn.b.div(Re()),Ne=rn.b.div(Ae()),ze=rn.b.div(Ie()),De=rn.b.div(Se()),Ke=rn.b.div(_e()),Le=rn.b.div(Ce()),He=function(n){Object(nn.a)(t,n);var e=Object($.a)(t);function t(){return Object(W.a)(this,t),e.apply(this,arguments)}return Object(Z.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getTickets)()}},{key:"render",value:function(){return i.a.createElement(Ge,null,i.a.createElement(De,null,i.a.createElement(ze,null,i.a.createElement(Fe,null))),i.a.createElement(Ne,null,i.a.createElement(ze,null,i.a.createElement(Ke,null,i.a.createElement(An,null)),i.a.createElement(Le,null,i.a.createElement(Ln,null),i.a.createElement(je,null)))))}}]),t}(c.PureComponent),Be=Object(x.a)({},F),Me=Object(l.b)(null,Be)(He);u.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(l.a,{store:Q},i.a.createElement(Me,null))),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.0c27bd6d.chunk.js.map